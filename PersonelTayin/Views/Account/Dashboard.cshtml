@using PersonelTayin.ViewsModels
@model DashboardViewModel

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="~/css/dashboard.css" rel="stylesheet" />
<link href="~/css/account.css" rel="stylesheet" />

<div class="container pt-5 mt-4">
<div class="header">
        <a href="/" class="logo">Personel Tayin Sistemi</a>
        <nav class="navbar">            
            <a href="/Account/Form">Başvuru Yap</a>
            <a href="/Account/Basarili">Başvuruları Gör</a>
            <a href="/Home/Index" aria-label="Oturumu Kapat" title="Oturumu Kapat">Oturumu Kapat</a>
           
        </nav>    
</div>
</div>

    
    <div class="row flex-grow-1 main-row">
        
        <div class="col-md-4 mb-3">
            <div class="card transparent-card h-100">
                <div class="card-header">
                    <h6 class="mb-0">Temel Bilgiler</h6>
                </div>
                <div class="card-body small">
                    <p><strong>İsim:</strong> @Model.Personel?.FullName</p>
                    <p><strong>Unvan:</strong> @Model.Personel?.Unvan</p>
                    <p><strong>Sicil:</strong> @Model.Personel?.Sicil</p>
                    <p><strong>Görev Yeri:</strong> @Model.Personel?.CalistigiAdliye</p>
                    <p><strong>Görev Birimi:</strong> @Model.Personel?.CalistigiBirim</p>
                </div>
            </div>
        </div>     
                          

            
            <div class="card transparent-card flex-grow-1 d-flex flex-column">
                <div class="card-header">
                    <h6 class="mb-0">Önceki Başvurular</h6>
                </div>
                <div class="card-body p-0 scrollable-table small">
                    <table class="table table-bordered mb-0">
                        <thead>
                            <tr>
                                <th>İl</th>
                                <th>Tayin Türü</th>
                                <th>Açıklama</th>
                                <th>Tarih</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var t in Model.Talepler)
                            {
                                <tr>
                                    <td>@t.AdliyeAdi?.AdliyeAdi</td>
                                    <td>@t.BasvuruTuru</td>
                                    <td>@t.Aciklama</td>
                                    <td>@t.BasvuruTarihi.ToString("dd.MM.yyyy")</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
